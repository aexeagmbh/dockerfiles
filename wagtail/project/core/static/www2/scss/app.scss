//@import url("//fonts.googleapis.com/css?family=roboto+Basic:400,400italic,700,700italic|Open+Sans:400,300,600,700,800");

@function url-friendly-colour($colour) {
	@return '%23' + str-slice('#{$colour}', 2, -1)
}

@import "settings";
//@import "foundation";

// Or selectively include components
@import
//   "foundation/components/accordion",
//   "foundation/components/alert-boxes",
"foundation/components/block-grid",
//   "foundation/components/breadcrumbs",
//   "foundation/components/button-groups",
//   "foundation/components/buttons",
//   "foundation/components/clearing",
//   "foundation/components/dropdown",
//   "foundation/components/dropdown-buttons",
//   "foundation/components/flex-video",
//   "foundation/components/forms",
"foundation/components/grid",
//   "foundation/components/inline-lists",
//   "foundation/components/joyride",
//   "foundation/components/keystrokes",
//   "foundation/components/labels",
//   "foundation/components/magellan",
//   "foundation/components/orbit",
//   "foundation/components/pagination",
//   "foundation/components/panels",
//   "foundation/components/pricing-tables",
//   "foundation/components/progress-bars",
//   "foundation/components/reveal",
//   "foundation/components/side-nav",
//   "foundation/components/split-buttons",
//   "foundation/components/sub-nav",
//   "foundation/components/switch",
"foundation/components/tables",
//   "foundation/components/tabs",
//   "foundation/components/thumbs",
//   "foundation/components/tooltips",
"foundation/components/top-bar",
"foundation/components/type",
//   "foundation/components/offcanvas",
   "foundation/components/visibility"
;

h1, h2, h3, h4, h5, h6 {
	text-transform: uppercase;
}
h2 {
    font-size: rem-calc(24px);
    @media #{$medium-up} {
    	font-size: rem-calc(36);
    }
}
.rich-text {
	ul {
		list-style-type: none;
		margin-left: 0;
	}
	li {
		background: transparent url(../img/chevron-right.svg) no-repeat -8px 0;
		background-size: auto 24px;
		padding-left: 1em;
	}
}

// table
table {
	//border-collapse: collapse;
	width: 100%;
	table-layout: fixed; // equal width table columns

	caption {
		font-family: monospace;
		padding-top: 0.5em;
		padding-bottom: 0.5em;
		text-align: left;
	}
}


section {
	padding-top: 1em;
	padding-bottom: 1em;
	margin: 0px auto;

	&.alternate {
		background-color: $gainsboro;
	}

	&.colored {
		background-color: $secondary-color;
		* {
			color: white;
		}
	}
}

.container {
	background-color: $snow;
	max-width: rem-calc(1600);
	width: 96%;
	margin: 0 auto;
}

.action-bar {
	background-color: $oil;
	background-image: url(../img/noise.png);
	color: $white;
	text-align: center;

	h1, h2, h3, h4, h5, h6, p {
		color: $white;
	}
}


// .block-light {
// 	padding: 2em 5%;
// 	margin-left: 0;
// 	margin-right: 0;
// 	background-color: $white;

// 	background-image:
// 		url('data:image/svg+xml;utf8,<svg xmlns%3D"http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg" width%3D"10" height%3D"8" viewBox%3D"0 0 10 8"><polygon fill%3D"#{url-friendly-colour($gainsboro)}" points%3D"10,0 5,7.1 0,0"%2F><%2Fsvg>')
// 	,	url('data:image/svg+xml;utf8,<svg xmlns%3D"http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg" width%3D"10" height%3D"8" viewBox%3D"0 0 10 8"><polygon fill%3D"#{url-friendly-colour($gainsboro)}" points%3D"10,8 5,0.9 0,8"%2F><%2Fsvg>')
// 	;
// 	background-repeat: repeat-x, repeat-x;
// 	background-position: 0 0, -5px 100%;
// }
[class*="block-grid-"] > li {
	&:last-child {
		padding-bottom: 0;
	}
}

.block-counter {

	counter-reset: li;
	li {
		@media #{$medium-up} {
			padding: 1em 2em;
		}

		&:before {
			background-color: $oil;
			border-radius: 50%;
			color: $gainsboro;
			content: counter(li);
			counter-increment: li;
			display: inline-block;
			font-family: $header-font-family;
			font-size: rem-calc(64);
			font-weight: 700;
			line-height: 1.3;
			height: 1em;
			width: 1em;
			padding-right: 4px;
			text-align: right;
		}
	}
}


[role="banner"],
[role="contentinfo"] {
	padding-top: 1em;
	padding-bottom: 1em;

	@media #{$large-up} {
		padding-top: 2em;
		padding-bottom: 2em;

		> section {
			&:first-child {
				padding: 0;
			}
		}
	}
}

[role="banner"] {

}

[role="contentinfo"] {
	background-color: #ddd;
}

.logo {
	display: block;
	font-weight: 400;
	color: $secondary-color;
	font-size: rem(18px);
	margin-right: 1em;

	svg {
		margin-right: -10px;
	}
}

.subline {
	font-size: rem-calc(18);
	font-weight: bold;
	display: block;
	margin: 1em auto;
	width: auto;

	@media #{$large-up} {
		max-width: 48em;
		display: inline-block;
	}
}

.intro {
	padding-top: 0;
	padding-bottom: 0;
	position: relative;
	overflow: hidden;
	//max-height: rem-calc(200px);


	@media #{$medium-up} {
		text-align: center;
	}


	.row {

		@media #{$medium-up} {
			display: flex;

			> div {
				flex: 1 0 auto;
				margin: auto;
				max-width: 64rem;
			}
		}

		@media #{$large-up} {
			padding-top: 2em;
			padding-bottom: 2em;
		}
	}

	.intro-image {
		display: none;

		@media #{$medium-up} {
			position: absolute;
			display: block;
			width: 100%;
			height: 100%;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;

			&:after {
				content: "";
				background-color: rgba(0,0,0,0.6);

				position: absolute;
				top: 0;
				left: 0;
				right: 0;
				bottom: 0;

			}

			> img {
				transform: translateY(-50%);
				width: 100%;
				height: auto;
				position: absolute;
				top: 50%;
				left: 0;
			}
		}

		+ .row {
			h1 {
				@media #{$medium-up} {
					color: $snow;
				}
			}
		}
	}

	h1 {
		font-size: rem-calc(36);
		font-weight: 700;
		text-transform: uppercase;
		position: relative;
		z-index: 5;

		@media #{$medium-up} {
			font-size: rem-calc(48);
			margin: 0.5em auto;
			max-width: 80%;
		}

		@media #{$large-up} {
			font-size: rem-calc(56);
			margin-bottom: 1em;
		}
	}



	.subline {
		background-color: $secondary-color;
		color: $snow;
		font-weight: normal;
        padding-right: $column-gutter * 1.5;
        padding-left: $column-gutter * 1.5;
		position: relative;
		z-index: 5;

        transform: skewX(-6.5deg);
        text-align: right;
        width: 100%;
        > * {
          display: inline-block;
          transform: skewX(6.5deg);
        }


		@media #{$large-up} {
            transform: skewX(-50deg);
			margin: 1em;
          > * {
            transform: skewX(50deg);
          }
		}
	}
}

// m-quote (module quote)
.m-quote {
	.quote-image {
		display: block;
		margin-bottom: 1em;

		@media #{$medium-up} {
			display: inline-block;
			margin-right: 1em;
			float: left;
		}
	}

	blockquote {
		@media #{$medium-up} {
			margin-left: calc(170px + 1em);
		}
	}
}


////// Foundation hacks


.top-bar-section ul.right li {
		@media #{$large-up} {
			margin-left: 1em;

			&:first-child {
				margin-left: 0;
			}
		}
}

.top-bar-section ul li:hover:not(.has-form) > a {
	background-color: scale-color($primary-color, $lightness: -14%); //$secondary-color;
}
.top-bar-section .has-dropdown > a::after {
	border-top-color: green;
}

.top-bar .title-area {
	// left: -15px;
	// margin-right: -15px;
	top: -2px;
	z-index: 1;
}

.top-bar .toggle-topbar a {
	font-family: $header-font-family;
	font-size: rem-calc(21px);
	font-weight: 400;
}
.top-bar-section {
	 ul.dropdown li > a {
		text-transform: none;
	}
}

button, .button {
	text-transform: uppercase;
	background-color: transparent;
	color: $secondary-color;
	padding: 0.5rem 2rem;
	box-shadow: inset 0 0 0 4px $secondary-color;
	transition: box-shadow 200ms ease-out 0s, color 100ms ease-in 200ms;

	&:hover {
		color: $snow;
		box-shadow: inset 0 0 0 20px $secondary-color;
		transition: color 100ms ease-out 0ms, box-shadow 200ms ease-in 100ms;
	}
}
